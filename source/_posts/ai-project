# AI辅助开发流程指导文档

## 概述
本文档基于videoServer项目的成功经验，提供一套系统化的AI辅助开发流程，以提高开发效率和代码质量。

---

## 第一阶段：项目规划与文档编写

### 1.1 编写结构性项目文档
在向AI寻求帮助前，准备以下内容：

- **项目概述**：项目名称、目标、用途
- **技术栈**：前端/后端框架、数据库、第三方库等
- **架构方案**：系统架构图、模块划分、各模块间关系
- **核心功能**：列举主要功能模块及功能点
- **非功能需求**：性能要求、安全性、可维护性等
- **规格说明**：数据格式、接口规范、文件大小限制等
- **开发环境**：Node版本、依赖版本、操作系统等

**关键建议**：
- 文档不需要100%完美，但要逻辑清晰
- 包含你的不确定之处（AI会帮助补充）

---

## 第二阶段：AI设计评审

### 2.1 提交文档并请求详细设计文档
向AI提交上述项目文档，要求生成包含以下内容的详细设计文档：

- **需求分析**：功能需求细化、用户场景分析
- **系统架构**：整体架构、分层设计、组件交互
- **模块设计**：各模块的职责、接口定义、数据流
- **页面交互**（如适用）：UI流程、交互说明
- **数据存储**：数据模型、库表设计、字段说明
- **API设计**：端点定义、请求/响应格式、错误处理
- **决策说明**：为什么采用这个方案而不是其他
- **实现建议**：开发时的注意事项、最佳实践
- **开发计划**：分阶段计划、工作量评估、依赖关系

### 2.2 要求AI提问
在同一个请求中明确要求AI：
> "对文档中不清楚或需要补充的地方，请列出至少5个问题"

这可以帮助你发现项目中的遗漏和隐藏假设。

---

## 第三阶段：需求完善

### 3.1 一一回答AI提问
逐个回答AI的问题，提供：
- 明确的答案或选择
- 补充说明或背景信息
- 相关的示例或参考

### 3.2 提交补充信息
将补充后的信息重新提交给AI，要求：
> "请根据以上补充信息，更新之前的设计文档，确保所有问题都得到解决"

### 3.3 确认最终设计文档
审查更新后的文档，确保：
- ✅ 所有模块职责清晰
- ✅ 接口定义完整
- ✅ 数据流转明确
- ✅ 开发计划合理

---

## 第四阶段：代码规范建立

### 4.1 定义编码规范
与AI协商确定：
- **命名规范**：变量、函数、类的命名约定
- **代码结构**：文件组织方式、目录结构
- **注释规范**：JSDoc格式、注释风格
- **版本管理**：分支策略、提交信息格式

### 4.2 生成配置文件
让AI生成相应的配置文件：
- `.eslintrc.json` - 代码规范配置
- `.prettierrc` - 代码格式化配置
- `.editorconfig` - 编辑器统一配置

### 4.3 建立项目模板
为新文件生成模板代码，确保一致性

---

## 第五阶段：分步骤开发

### 5.1 按开发计划逐步进行
遵循第二阶段中AI制定的开发计划：
- 优先完成基础模块
- 处理模块间的依赖关系
- 定期进行集成测试

---

## 第六阶段：问题排查与修复

### 6.1 问题排查的正确流程

**不推荐做法**：直接让AI"修复这个bug"

**推荐做法**：

1. **第一步：收集信息**
   ```
   提供给AI：
   - 错误信息（完整的error stack）
   - 相关代码片段
   - 重现步骤
   - 期望行为 vs 实际行为
   ```

2. **第二步：让AI分析**
   ```
   要求AI：
   "请分析这个错误可能的原因，列举3-5个可能性，
   按照最可能到最不可能排序，并说明判断依据"
   ```

3. **第三步：逐一排除**
   ```
   根据AI的分析，从最可能的原因开始：
   - 检查该原因对应的代码
   - 如果不是，告诉AI排除结果
   - 继续下一个原因
   ```

4. **第四步：确认修复**
   ```
   当定位到真实原因后，让AI：
   "请根据这个原因，提出修复方案"
   ```

## 第七阶段：项目完成与总结

### 7.1 功能验收
- ✅ 所有需求功能已实现
- ✅ 所有单元测试通过
- ✅ 集成测试通过
- ✅ 代码审查通过

### 7.2 生成技术总结文档
让AI帮助生成：
- **架构总结**：实现的架构与设计的偏差
- **关键决策**：重要的技术决策及原因
- **踩坑记录**：遇到过的问题及解决方案
- **最佳实践**：这个项目中的最佳实践总结
- **可改进之处**：下一版本可以优化的地方

### 7.3 经验积累
- 保存这份总结文档
- 为下一个项目做参考
- 记录通用的解决方案模板

---
